defaults:
  - _self_

# Disable Hydra changing working directory so relative paths work
hydra:
  job:
    chdir: false

# Reproducibility
seed: 42

# Data paths and splitting
data:
  dir: data/earthquake_dataset             # Root folder containing 'labels', 'pre-disaster', 'post-disaster'
  train_split: 0.8             # Fraction of data used for training
  feature_cols:
    - mag
    - rupture_length_km
    - mmi
    - center_dist_km
    - center_depth_eff_km
    # - depth_km
    # - moment_Nm
    # - epicenter_elev_m
    # - center_elev_m
    # - center_rel_elev_m

# Augmentations (Albumentations style)
augmentations:
  train:
    - Resize:
        height: 768    # 768, 512, 256
        width: 768     # 768, 512, 256
    - Normalize: {}
    - RandomCrop:
        height: 720    # 720, 480, 224
        width: 720     # 720, 480, 224
    - HorizontalFlip:
        p: 0.5
    - VerticalFlip:
        p: 0.5
    - RandomBrightnessContrast:
        p: 0.2
  val:
    - Resize:
        height: 720   # 720, 480, 224
        width: 720    # 720, 480, 224
    - Normalize: {}

# Model configuration
model:
  name: conditional_deeplabv3plus    # options: unet, deeplabv3plus, unetplusplus, conditional_unet
                            # conditional_deeplabv3plus, conditional_unetplusplus
  is_conditional: true
  num_classes: 4
  encoder: resnet34
  encoder_weights: imagenet
  vec_dim: null

# Loss configuration
loss:
  name: cross_entropy # options: cross_entropy, dice, cross_entropy_dice
  dice_weight: 1.0

# Training hyperparameters
training:
  batch_size: 8 # 8, 16, 24, 32
  epochs: 200
  lr: 1e-4
  weight_decay: 1e-5
  device: cuda  # automatically falls back to CPU if unavailable
  checkpoint_dir: checkpoints
  checkpoint_freq: 10

# Logging settings
logging:
  wandb_project: eq-damage
  wandb_dir: wandb
  wandb_name: conditional_deeplabv3plus_720_1e-4_cross_entropy